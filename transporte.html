<!-- transporte.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title data-i18n="transport.header">Gestión de Transporte</title>
  <link rel="stylesheet" href="transporte.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h2 data-i18n="transport.header"></h2>
    <form id="transporteForm">
      <div class="form-row">
        <div class="form-group">
          <label for="fechaRegistro" data-i18n="transport.labelRegistroFecha"></label>
          <input type="date" id="fechaRegistro" readonly>
        </div>
        <div class="form-group">
          <label for="fechaViaje" data-i18n="transport.labelViajeFecha"></label>
          <input type="date" id="fechaViaje" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="tipoViaje" data-i18n="transport.labelTipoViaje"></label>
          <select id="tipoViaje" required>
            <option value="" disabled selected data-i18n="transport.optionDefaultTipo"></option>
            <option value="Llegada" data-i18n="transport.optionLlegada"></option>
            <option value="Salida"  data-i18n="transport.optionSalida"></option>
          </select>
        </div>
        <div class="form-group">
          <label for="horaViaje" data-i18n="transport.labelHoraViaje"></label>
          <input type="time" id="horaViaje" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="destinoInicial" data-i18n="transport.labelDestinoInicial"></label>
          <input list="destinosIniciales"
                 id="destinoInicial"
                 placeholder=""
                 data-i18n="transport.placeholderDestinoInicial"
                 required>
          <datalist id="destinosIniciales">
            <option value="Aeropuerto Internacional de las Américas">
            <option value="Aeropuerto Internacional del Cibao">
            <option value="Aeropuerto Internacional de Punta Cana">
          </datalist>
        </div>
        <div class="form-group">
          <label for="destinoFinal" data-i18n="transport.labelDestinoFinal"></label>
          <input list="destinosFinales"
                 id="destinoFinal"
                 placeholder=""
                 data-i18n="transport.placeholderDestinoFinal"
                 required>
          <datalist id="destinosFinales">
            <option value="Aeropuerto Internacional de las Américas">
            <option value="Aeropuerto Internacional del Cibao">
            <option value="Aeropuerto Internacional de Punta Cana">
          </datalist>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="numPersonas" data-i18n="transport.labelNumPersonas"></label>
          <input type="number"
                 id="numPersonas"
                 min="1"
                 placeholder=""
                 data-i18n="transport.placeholderNumPersonas"
                 required>
        </div>
        <div class="form-group">
          <label for="chofer" data-i18n="transport.labelChofer"></label>
          <select id="chofer" required>
            <option value="" disabled selected data-i18n="transport.optionDefaultChofer"></option>
            <option value="Henrry"   data-i18n="transport.optionChoferHenry"></option>
            <option value="Domingo"  data-i18n="transport.optionChoferDomingo"></option>
            <option value="Juan"     data-i18n="transport.optionChoferJuan"></option>
            <option value="Otro"     data-i18n="transport.optionChoferOtro"></option>
          </select>
        </div>
      </div>
      <div class="form-group-full">
        <label for="comentarios" data-i18n="transport.labelComentarios"></label>
        <textarea id="comentarios"
                  rows="3"
                  placeholder=""
                  data-i18n="transport.placeholderComentarios"></textarea>
      </div>
      <div class="button-group">
        <button type="submit" data-i18n="transport.buttonSave"></button>
      </div>
    </form>
  </div>

  <div class="container table-container">
    <h2 data-i18n="transport.tableHeader"></h2>
    <table id="tablaTransporte">
      <thead>
        <tr>
          <th data-i18n="transport.thRegistroFecha"></th>
          <th data-i18n="transport.thViajeFecha"></th>
          <th data-i18n="transport.thHora"></th>
          <th data-i18n="transport.thTipo"></th>
          <th data-i18n="transport.thDestinoInicial"></th>
          <th data-i18n="transport.thDestinoFinal"></th>
          <th data-i18n="transport.thNumPersonas"></th>
          <th data-i18n="transport.thChofer"></th>
          <th data-i18n="transport.thComentarios"></th>
        </tr>
      </thead>
      <tbody>
        <!-- Filas dinámicas -->
      </tbody>
    </table>
  </div>

  <button class="back-button"
          onclick="history.back()"
          aria-label=""
          data-i18n="transport.buttonBackAria">
    <i class="material-icons">arrow_back</i>
  </button>

  <!-- 1) Traducciones -->
  <script type="module" src="translations.js"></script>
  <!-- 2) Inicialización de i18n y selector -->
  <script type="module">
    import { applyTranslations, setLanguage } from './translations.js';
    document.addEventListener('DOMContentLoaded', () => {
      applyTranslations();
      // Si tienes un <select id="languageSelect"> en otra página:
      const sel = document.getElementById('languageSelect');
      if (sel) sel.addEventListener('change', e => setLanguage(e.target.value));
    });
    window.addEventListener('storage', e => {
      if (e.key === 'lang' || e.key === 'language') applyTranslations();
    });
  </script>
  <!-- 3) Lógica de transporte -->
  <script type="module" src="transporte.js"></script>
</body>
</html>
